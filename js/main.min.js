NProgress.start();var constants={},main=function(){NProgress.inc(),$.ajax({url:"https://api.myjson.com/bins/3uwf3"}).done(function(a){NProgress.set(.7);var i=a.data;constants.length=i.length,utils.appendTemplate(i),utils.showFooter(),NProgress.done(),addHandler()})},addHandler=function(){$(".showModal").click(function(){var a=$(this).attr("url"),i=$("#modal1"),s=$(this).attr("showParam"),e=$(this).attr("name");i.empty(),"true"===s?(i.append(utils.frameTemplate(a)),i.openModal()):(i.append(utils.preloaderTemp),i.openModal(),e=e.split(" ").join("+"),$.ajax({url:"http://www.omdbapi.com/?t="+e}).done(function(a){i.empty(),i.append(utils.imdbTemplate(JSON.parse(a)))}))}),$(".fel-luck").click(function(){$(".focused").removeClass("focused");var a=Math.floor(Math.random()*constants.length)+1,i=$($("#main li")[a]);$("#main li")[a].scrollIntoView(),i.addClass("focused")})},utils={appendTemplate:function(a){var i=this,s=$("#main ul");for(var e in a){var t=i.cardTemplate(a[e]);s.append(t)}},cardTemplate:function(a){var i='<li ><div class="card"><a href="#">'+a.name+'</a><a href="#" showParam=false url="'+a.imdbLink+'"+ title="imdb rating: '+a.imdbRating+' " name="'+a.name+'"  class="showModal"><img src="img/imdb.jpg"></a><a href="#" showParam=true url="'+a.rtLink+'" class="showModal" title="rotten tomatoes rating : '+a.rtRating+' "><img src="img/rt.jpg"></a></div></li>';return i},showFooter:function(){$("footer").show()},frameTemplate:function(a){return'<iframe height="100%" width="100%" src="'+a+'"></iframe>'},preloaderTemp:function(){var a='<div class="preloader-wrapper big active"><div class="spinner-layer spinner-blue"><div class="circle-clipper left"><div class="circle"></div></div><div class="gap-patch"><div class="circle"></div></div><div class="circle-clipper right"><div class="circle"></div></div></div>';return a},imdbTemplate:function(a){var i='<div class="col s12 m8 offset-m2 l6 offset-l3"><div class="card-panel grey lighten-5 z-depth-1"><div class="row"><div class="col s5"><img src="'+a.Poster+'" alt="" class=" responsive-img"></div><div class="col s6"><div class="row"><h3>'+a.Title+'</h3></div><div class="row">Genre: <span class="val">'+a.Genre+'</span></h3></div><div class="row">Rating: <span class="val">'+a.imdbRating+'</span></div><div class="row">imdb Votes: '+a.imdbVotes+"</div><br><p><b>Plot: </b> "+a.Plot+"</p>";return i}};$(document).ready(main);